<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MemEvolve API Docs</title>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css" />

<style>
/* ===================== */
/* THEME VARIABLES       */
/* ===================== */

:root {
  --bg-page: #f5f7fb;
  --bg-header: #eef1f6;
  --bg-card: #ffffff;
  --bg-section: #f1f4f9;

  --text-primary: #0f172a;
  --text-secondary: #475569;
  --text-muted: #64748b;

  --border-soft: #e2e8f0;
  --border-strong: #cbd5e1;

  --accent: #6366f1;
  --accent-hover: #4f46e5;

  --button-text: #ffffff;
  --toggle-bg: #d9d9d9;
  --toggle-bg-hover: #b9b9b9;
}

[data-theme="dark"] {
  --bg-page: #0b0f14;
  --bg-header: #12161d;
  --bg-card: #1a1d21;
  --bg-section: #23272e;

  --text-primary: #e5e7eb;
  --text-secondary: #cbd5f5;
  --text-muted: #9ca3af;

  --border-soft: #2f3540;
  --border-strong: #3b4252;

  --accent: #7c83ff;
  --accent-hover: #6366f1;

  --button-text: #ffffff;
  --toggle-bg: #303030;
  --toggle-bg-hover: #404040;
}

/* ===================== */
/* BASE PAGE             */
/* ===================== */

body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
    Roboto, Arial, sans-serif;
  background: var(--bg-page);
  color: var(--text-primary);
}

/* ===================== */
/* HEADER                */
/* ===================== */

.docs-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 18px 24px;
  background: var(--bg-header);
  border-bottom: 1px solid var(--border-soft);
  position: sticky;
  top: 0;
  z-index: 1000;
}

.docs-header h1 {
  margin: 0;
  font-size: 1.6em;
  font-weight: 700;
  background: linear-gradient(135deg, #667eea, #764ba2);
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
}

.docs-controls {
  display: flex;
  gap: 16px;
  align-items: center;
}

/* ===================== */
/* THEME TOGGLE          */
/* ===================== */

.theme-toggle {
    position: relative;
    width: 60px;
    height: 30px;

    background: var(--toggle-bg);
    border-radius: 15px;

    border: 1px solid var(--border);
    box-shadow:
        inset 0 1px 0 rgba(255,255,255,0.06),
        0 2px 4px rgba(0,0,0,0.35);

    cursor: pointer;
    transition: var(--bg-page) 0.2s ease, border-color 0.2s ease;
}

.theme-toggle:hover {
    background: var(--toggle-bg-hover);
    border-color: var(--border-hover);
}

/* Thumb */
.theme-toggle::before {
    content: '';
    position: absolute;
    top: 3px;
    left: 3px;
    width: 22px;
    height: 22px;

    background: var(--button-bg);
    border-radius: 50%;

    box-shadow:
        0 2px 4px rgba(0,0,0,0.35),
        inset 0 1px 0 rgba(255,255,255,0.25);

    transition: transform 0.3s ease, background 0.3s ease;
}

/* Dark mode thumb */
[data-theme="dark"] .theme-toggle::before {
    transform: translateX(30px);
    background: #ffd43b;
}

/* Icon = target mode */
.theme-toggle::after {
    content: '‚òÄÔ∏è';
    position: absolute;
    right: 7px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 12px;
    opacity: 0.75;
    pointer-events: none;
}

[data-theme="dark"] .theme-toggle::after {
    content: 'üåô';
    left: 7px;
    right: auto;
}

/* ===================== */
/* SWAGGER BASE          */
/* ===================== */

.swagger-ui .topbar {
  display: none;
}

.swagger-ui .wrapper {
  background: var(--bg-page);
}

/* ===================== */
/* OPBLOCKS / MODELS     */
/* ===================== */

.swagger-ui .opblock,
.swagger-ui .models .model-container {
  background: var(--bg-card);
  border: 1px solid var(--border-soft);
  border-radius: 10px;
  margin-bottom: 16px;
  box-shadow:
    0 1px 0 rgba(255,255,255,0.03),
    0 12px 24px rgba(0,0,0,0.25);
}

/* Headers */
.swagger-ui .opblock-summary,
.swagger-ui .models .model-title {
  background: var(--bg-card);
  border-bottom: 1px solid var(--border-soft);
  padding: 14px 16px;
  font-size: 14px;
  font-weight: 600;
  display: flex;
  align-items: center;
  cursor: pointer;
}

/* Body sections */
.swagger-ui .opblock-body,
.swagger-ui .models .model {
  background: var(--bg-section);
  padding: 16px;
}

/* ===================== */
/* TYPOGRAPHY            */
/* ===================== */

.swagger-ui .opblock-summary-path,
.swagger-ui .models .model-title {
  color: var(--text-primary);
}

.swagger-ui .parameter__name,
.swagger-ui .prop {
  font-size: 13px;
  font-weight: 500;
  color: var(--text-primary);
}

.swagger-ui .parameter__description,
.swagger-ui .prop-desc {
  font-size: 13px;
  color: var(--text-secondary);
}

/* ===================== */
/* INPUTS                */
/* ===================== */

.swagger-ui input,
.swagger-ui textarea,
.swagger-ui select {
  background: var(--bg-card);
  border: 1px solid var(--border-soft);
  color: var(--text-primary);
}

.swagger-ui input:focus,
.swagger-ui textarea:focus,
.swagger-ui select:focus {
  border-color: var(--accent);
  outline: none;
}

/* ===================== */
/* BUTTONS               */
/* ===================== */

.swagger-ui .btn {
  background: var(--accent);
  color: var(--button-text);
  border: none;
}

.swagger-ui .btn:hover {
  background: var(--accent-hover);
}

/* ===================== */
/* MODELS SECTION        */
/* ===================== */

.swagger-ui .models {
  padding: 0 20px;
}

.swagger-ui .models h4 {
  margin-top: 32px;
  font-size: 16px;
  font-weight: 700;
  color: var(--text-primary);
}

/* ===================== */
/* FIX WHITE SERVER BAR  */
/* ===================== */

.swagger-ui .scheme-container {
  background: transparent !important;
  padding: 0 20px;
}

.swagger-ui .scheme-container .schemes {
  background: var(--bg-card);
  border: 1px solid var(--border-soft);
  border-radius: 10px;
  padding: 12px 16px;
  box-shadow:
    0 1px 0 rgba(255,255,255,0.03),
    0 12px 24px rgba(0,0,0,0.25);
}

.swagger-ui .scheme-container label {
  color: var(--text-secondary);
}

.swagger-ui .scheme-container select {
  background: var(--bg-card);
  color: var(--text-primary);
  border: 1px solid var(--border-soft);
}

</style>
</head>

<body>
<div class="docs-header">
  <h1>üìö MemEvolve API Docs</h1>
  <div class="docs-controls">
    <div class="theme-toggle" onclick="toggleTheme()"></div>
    <a href="/redoc"
       style="text-decoration:none;color:var(--accent);font-weight:500;">
      Switch to ReDoc
    </a>
  </div>
</div>

<div id="swagger-ui"></div>

<script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js"></script>
<script>
function initTheme() {
  const theme = localStorage.getItem("docs-theme") || "dark";
  document.documentElement.setAttribute("data-theme", theme);
}

function toggleTheme() {
  const current = document.documentElement.getAttribute("data-theme");
  const next = current === "dark" ? "light" : "dark";
  document.documentElement.setAttribute("data-theme", next);
  localStorage.setItem("docs-theme", next);
}

initTheme();

SwaggerUIBundle({
  url: "/web/docs/openapi.json",
  dom_id: "#swagger-ui",
  deepLinking: true,
  layout: "BaseLayout",
  defaultModelsExpandDepth: -1,
  defaultModelExpandDepth: 1,
});
</script>
</body>
</html>
