# MemEvolve Environment Configuration
# Copy this file to .env and update values for your environment

# =============================================================================
# API ENDPOINTS - LLM Services Configuration
# =============================================================================

# Upstream LLM API (REQUIRED)
# Your primary OpenAI-compatible LLM service
MEMEVOLVE_UPSTREAM_BASE_URL=
MEMEVOLVE_UPSTREAM_API_KEY=
MEMEVOLVE_UPSTREAM_MODEL=
MEMEVOLVE_UPSTREAM_AUTO_RESOLVE_MODELS=
MEMEVOLVE_UPSTREAM_TIMEOUT=720

# Embedding API (OPTIONAL)
# Separate embedding service if different from upstream
MEMEVOLVE_EMBEDDING_BASE_URL=
MEMEVOLVE_EMBEDDING_API_KEY=
MEMEVOLVE_EMBEDDING_MODEL=
MEMEVOLVE_EMBEDDING_AUTO_RESOLVE_MODELS=
MEMEVOLVE_EMBEDDING_TIMEOUT=60
MEMEVOLVE_EMBEDDING_MAX_TOKENS=
MEMEVOLVE_EMBEDDING_DIMENSION=

# Memory LLM API (OPTIONAL)
# Dedicated LLM for memory encoding operations
MEMEVOLVE_MEMORY_BASE_URL=
MEMEVOLVE_MEMORY_API_KEY=
MEMEVOLVE_MEMORY_MODEL=
MEMEVOLVE_MEMORY_AUTO_RESOLVE_MODELS=
MEMEVOLVE_MEMORY_TIMEOUT=120

# =============================================================================
# GLOBAL API SETTINGS
# =============================================================================

# Applied to all API endpoints
MEMEVOLVE_API_MAX_RETRIES=3
MEMEVOLVE_DEFAULT_TOP_K=3

# =============================================================================
# API SERVER CONFIGURATION
# =============================================================================

MEMEVOLVE_API_ENABLE=true
MEMEVOLVE_API_HOST=127.0.0.1
MEMEVOLVE_API_PORT=11436
MEMEVOLVE_API_MEMORY_INTEGRATION=true

# =============================================================================
# STORAGE & DATA MANAGEMENT
# =============================================================================

# Data directories
MEMEVOLVE_DATA_DIR=./data
MEMEVOLVE_CACHE_DIR=./cache
MEMEVOLVE_LOGS_DIR=./logs

# Storage backend
MEMEVOLVE_STORAGE_BACKEND_TYPE=json
MEMEVOLVE_STORAGE_INDEX_TYPE=flat

# Storage path (when using specific storage backends)
MEMEVOLVE_STORAGE_PATH=./data/memory.json

# Neo4j connection (only when using graph storage backend)
MEMEVOLVE_NEO4J_URI=bolt://localhost:7687
MEMEVOLVE_NEO4J_USER=neo4j
MEMEVOLVE_NEO4J_PASSWORD=password
MEMEVOLVE_NEO4J_TIMEOUT=30
MEMEVOLVE_NEO4J_MAX_RETRIES=3

# =============================================================================
# MEMORY SYSTEM BEHAVIOR
# =============================================================================

# Retrieval settings
MEMEVOLVE_RETRIEVAL_STRATEGY_TYPE=hybrid
MEMEVOLVE_RETRIEVAL_TOP_K=3
MEMEVOLVE_RETRIEVAL_SEMANTIC_WEIGHT=0.7
MEMEVOLVE_RETRIEVAL_KEYWORD_WEIGHT=0.3
MEMEVOLVE_RETRIEVAL_ENABLE_CACHING=true
MEMEVOLVE_RETRIEVAL_CACHE_SIZE=1024

# Memory management
MEMEVOLVE_MANAGEMENT_ENABLE_AUTO_MANAGEMENT=true
MEMEVOLVE_MANAGEMENT_AUTO_PRUNE_THRESHOLD=1024
MEMEVOLVE_MANAGEMENT_AUTO_CONSOLIDATE_INTERVAL=128
MEMEVOLVE_MANAGEMENT_DEDUPLICATE_THRESHOLD=0.9
MEMEVOLVE_MANAGEMENT_FORGETTING_STRATEGY=lru
MEMEVOLVE_MANAGEMENT_MAX_MEMORY_AGE_DAYS=365

# Memory encoding
MEMEVOLVE_ENCODER_ENCODING_STRATEGIES=lesson,skill
MEMEVOLVE_ENCODER_ENABLE_ABSTRACTION=true
MEMEVOLVE_ENCODER_ABSTRACTION_THRESHOLD=10
MEMEVOLVE_ENCODER_ENABLE_TOOL_EXTRACTION=true

# =============================================================================
# ADVANCED SETTINGS
# =============================================================================

# Memory Evolution (Advanced feature)
MEMEVOLVE_ENABLE_EVOLUTION=true

# Evolution parameters (only when evolution is enabled)
MEMEVOLVE_EVOLUTION_POPULATION_SIZE=10
MEMEVOLVE_EVOLUTION_GENERATIONS=20
MEMEVOLVE_EVOLUTION_MUTATION_RATE=0.1
MEMEVOLVE_EVOLUTION_CROSSOVER_RATE=0.5
MEMEVOLVE_EVOLUTION_SELECTION_METHOD=pareto
MEMEVOLVE_EVOLUTION_TOURNAMENT_SIZE=3

# Fitness weights (only when evolution is enabled)
MEMEVOLVE_FITNESS_WEIGHT_SUCCESS=1.0
MEMEVOLVE_FITNESS_WEIGHT_TOKENS=0.1
MEMEVOLVE_FITNESS_WEIGHT_TIME=0.001
MEMEVOLVE_FITNESS_WEIGHT_RETRIEVAL=0.5

# Auto-Evolution Triggers (intelligent automatic evolution)
MEMEVOLVE_AUTO_EVOLUTION_ENABLED=true
MEMEVOLVE_AUTO_EVOLUTION_REQUESTS=100
MEMEVOLVE_AUTO_EVOLUTION_DEGRADATION=0.2
MEMEVOLVE_AUTO_EVOLUTION_PLATEAU=5
MEMEVOLVE_AUTO_EVOLUTION_HOURS=24
MEMEVOLVE_AUTO_EVOLUTION_CYCLE_SECONDS=300

# Logging
MEMEVOLVE_LOG_LEVEL=INFO
MEMEVOLVE_LOGGING_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
MEMEVOLVE_LOGGING_LOG_FILE=
MEMEVOLVE_LOGGING_ENABLE_OPERATION_LOG=true
MEMEVOLVE_LOGGING_MAX_LOG_SIZE_MB=1024

# Component-specific logging (all disabled by default)
MEMEVOLVE_LOG_API_SERVER_ENABLE=false
MEMEVOLVE_LOG_MIDDLEWARE_ENABLE=false
MEMEVOLVE_LOG_MEMORY_ENABLE=false
MEMEVOLVE_LOG_EXPERIMENT_ENABLE=false

# Project settings (rarely changed)
MEMEVOLVE_PROJECT_NAME=MemEvolve-API
MEMEVOLVE_PROJECT_ROOT=.