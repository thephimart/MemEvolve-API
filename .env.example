# MemEvolve Environment Configuration
# Copy this file to .env and update the values for your environment

# =============================================================================
# PRIMARY SETUP - Required for API Wrapper Mode
# =============================================================================

# Upstream LLM API (REQUIRED)
# Your OpenAI-compatible LLM service endpoint
# eg. http://localhost:11434/v1 (example for llama.cpp)
MEMEVOLVE_UPSTREAM_BASE_URL=
# API key for the upstream LLM service
# Leave empty for local services like Ollama, llama.cpp
MEMEVOLVE_UPSTREAM_API_KEY=
MEMEVOLVE_UPSTREAM_MODEL=
# Auto-resolve model info for llama.cpp APIs (true/false)
MEMEVOLVE_UPSTREAM_AUTO_RESOLVE_MODELS=

# Embedding API (OPTIONAL - defaults to same as upstream)
# Only set if embeddings run on different endpoint than LLM
# eg. http://localhost:11435/v1 (example for llama.cpp)
MEMEVOLVE_EMBEDDING_BASE_URL=
# API key for the embedding service
# Leave empty for local services
MEMEVOLVE_EMBEDDING_API_KEY=
MEMEVOLVE_EMBEDDING_MODEL=
# Auto-resolve model info for llama.cpp embedding APIs (true/false)
MEMEVOLVE_EMBEDDING_AUTO_RESOLVE_MODELS=

# LLM Advanced Settings (rarely need to change)

# To use a seperate LLM base URL instead of upstream
# Leave empty to use MEMEVOLVE_UPSTREAM_BASE_URL
MEMEVOLVE_LLM_BASE_URL=
MEMEVOLVE_LLM_API_KEY=
MEMEVOLVE_LLM_MODEL=
# Auto-resolve model info for llama.cpp APIs (true/false)
MEMEVOLVE_LLM_AUTO_RESOLVE_MODELS=
# Timeout and retry attempts for LLM requests (seconds)
MEMEVOLVE_LLM_TIMEOUT=120
MEMEVOLVE_LLM_MAX_RETRIES=3

# =============================================================================
# API SERVER CONFIGURATION - How MemEvolve runs as a proxy
# =============================================================================

# API Server Settings
MEMEVOLVE_API_ENABLE=true
# 127.0.0.1 for local only, 0.0.0.0 for external access
MEMEVOLVE_API_HOST=127.0.0.1
# Port for the MemEvolve API server
MEMEVOLVE_API_PORT=8001

# Memory Integration
MEMEVOLVE_API_MEMORY_INTEGRATION=true
MEMEVOLVE_API_MEMORY_RETRIEVAL_LIMIT=5

# =============================================================================
# STORAGE & DATA MANAGEMENT - Where memories are stored
# =============================================================================

# Storage Settings

# Path for storing memory data
# For JSON storage - eg. ./data/memory.json
# For Vector storage - eg. ./data/memory_vectors.db
# For Graph storage - eg. ./data/memory_graph.db
# For Graph storage utilizing Neo4j - bolt://localhost:7687
MEMEVOLVE_STORAGE_PATH=./data/memory.json
# Storage backend type
# Options: json, vector, graph
# default is json: no dependencies, easy debugging
MEMEVOLVE_STORAGE_BACKEND_TYPE=json
# Embedding dimension for storage
# default to 768 for compatibility with most models
MEMEVOLVE_STORAGE_VECTOR_DIM=768
# Index type for vector storage
# Options: flat, ivf, hnsw
# default is flat for simplicity
# ivf and hnsw require additional dependencies and setup
MEMEVOLVE_STORAGE_INDEX_TYPE=flat

# Data Directories
MEMEVOLVE_DATA_DIR=./data
MEMEVOLVE_CACHE_DIR=./cache

# =============================================================================
# ADVANCED SETTINGS - Only modify if you know what you're doing
# =============================================================================

# Turn on Memory Evolution Features
# default is false - for advanced users/researchers
MEMEVOLVE_ENABLE_EVOLUTION=false
# Default Evolution Settings (for research/advanced users)
MEMEVOLVE_EVOLUTION_POPULATION_SIZE=10
MEMEVOLVE_EVOLUTION_GENERATIONS=20
MEMEVOLVE_EVOLUTION_MUTATION_RATE=0.1
MEMEVOLVE_EVOLUTION_CROSSOVER_RATE=0.5
MEMEVOLVE_EVOLUTION_SELECTION_METHOD=pareto
MEMEVOLVE_EVOLUTION_TOURNAMENT_SIZE=3

# Logging & Debugging
MEMEVOLVE_LOG_LEVEL=INFO
MEMEVOLVE_LOGGING_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
MEMEVOLVE_LOGGING_LOG_FILE=./logs/memevolve.log
MEMEVOLVE_LOGGING_ENABLE_OPERATION_LOG=true
MEMEVOLVE_LOGGING_MAX_LOG_SIZE_MB=100

# Project Settings (usually don't change)
MEMEVOLVE_PROJECT_NAME=memevolve
MEMEVOLVE_PROJECT_ROOT=.

# =============================================================================
# MEMORY SYSTEM BEHAVIOR - How MemEvolve manages and retrieves memories
# =============================================================================

# Retrieval Settings
MEMEVOLVE_DEFAULT_TOP_K=5
MEMEVOLVE_RETRIEVAL_STRATEGY_TYPE=hybrid
MEMEVOLVE_RETRIEVAL_SEMANTIC_WEIGHT=0.7
MEMEVOLVE_RETRIEVAL_KEYWORD_WEIGHT=0.3
MEMEVOLVE_RETRIEVAL_ENABLE_CACHING=true
MEMEVOLVE_RETRIEVAL_CACHE_SIZE=1000

# Memory Management
MEMEVOLVE_MANAGEMENT_ENABLE_AUTO_MANAGEMENT=true
MEMEVOLVE_MANAGEMENT_AUTO_PRUNE_THRESHOLD=1000
MEMEVOLVE_MANAGEMENT_AUTO_CONSOLIDATE_INTERVAL=100
MEMEVOLVE_MANAGEMENT_DEDUPLICATE_THRESHOLD=0.9
MEMEVOLVE_MANAGEMENT_FORGETTING_STRATEGY=lru
MEMEVOLVE_MANAGEMENT_MAX_MEMORY_AGE_DAYS=365

# Memory Encoding
MEMEVOLVE_ENCODER_ENCODING_STRATEGIES=lesson,skill
MEMEVOLVE_ENCODER_ENABLE_ABSTRACTION=true
MEMEVOLVE_ENCODER_ABSTRACTION_THRESHOLD=10
MEMEVOLVE_ENCODER_ENABLE_TOOL_EXTRACTION=true